{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nlet HomeComponent = class HomeComponent {\n  constructor(http) {\n    this.http = http;\n  }\n  shortenUrl() {\n    debugger;\n    console.log(\"enter here\" + this.originalUrl);\n    let data = {\n      OriginalUrl: this.originalUrl\n    };\n    const urlobject = new URL(this.originalUrl);\n    this.http.post('https://localhost:7180/api/Url/ShortenUrl', data).subscribe(result => {\n      const presponse = JSON.stringify(result);\n      this.shortUrl = presponse.substring(13, presponse.length - 2);\n      //const presponse = JSON.parse(result);\n      //this.shortUrl = presponse.shortUrl\n      console.log(\"hhhhhelppppp\" + presponse);\n    });\n    //this.http.post<string>('https://localhost:7180/api/Url/ShortenUrl', data).subscribe\n    //  (result => {\n    //    console.log(\"hhhhhelppppp\" + JSON.parse(result));\n    //    this.shortUrl = result;\n    //  });\n    // console.log(\"Output\" + this.shortUrl[\"shortUrl\"]);\n  }\n\n  redirectToOrginalUrl() {\n    debugger;\n    const data1 = {\n      shortUrl: this.shortUrl\n    };\n    //this.http.post('https://localhost:7180/api/Url/GetLongUrl', data1, { responseType: 'text', observe: 'response' }).subscribe(\n    //  response => {\n    //    const r = \"output here\" + JSON.stringify(response);\n    //    const redirectUrl = response.headers.get('Location');\n    //    if (redirectUrl) {\n    //      window.location.href = redirectUrl;\n    //    }\n    this.http.post('https://localhost:7180/api/Url/GetLongUrl', data1).subscribe(response => {\n      console.log(\"hhhhhhhhhhhhhhhhhhh\" + JSON.stringify(response));\n      const r = JSON.stringify(response);\n      const originalUrl = JSON.stringify(response.originalUrl);\n      console.log(\"new\" + originalUrl);\n      window.open(r.substring(12, r.length - 2));\n    });\n    /*  });*/\n  }\n};\n\nHomeComponent = __decorate([Component({\n  selector: 'app-home',\n  templateUrl: './home.component.html',\n  styleUrls: ['./home.component.css']\n})], HomeComponent);\nexport { HomeComponent };","map":{"version":3,"mappings":";AAAA,SAASA,SAAS,QAAQ,eAAe;AAUlC,IAAMC,aAAa,GAAnB,MAAMA,aAAa;EAIxBC,YAAoBC,IAAgB;IAAhB,SAAI,GAAJA,IAAI;EAAgB;EAExCC,UAAU;IAER;IACAC,OAAO,CAACC,GAAG,CAAC,YAAY,GAAG,IAAI,CAACC,WAAW,CAAC;IAC3C,IAAIC,IAAI,GAAG;MAAEC,WAAW,EAAE,IAAI,CAACF;IAAW,CAAE;IAE7C,MAAMG,SAAS,GAAG,IAAIC,GAAG,CAAC,IAAI,CAACJ,WAAW,CAAC;IAE3C,IAAI,CAACJ,IAAI,CAACS,IAAI,CAAS,2CAA2C,EAAEJ,IAAI,CAAC,CAACK,SAAS,CAACC,MAAM,IAAG;MAC3F,MAAMC,SAAS,GAAGC,IAAI,CAACC,SAAS,CAACH,MAAM,CAAC;MACxC,IAAI,CAACI,QAAQ,GAAGH,SAAS,CAACI,SAAS,CAAC,EAAE,EAACJ,SAAS,CAACK,MAAM,GAAC,CAAC,CAAC;MAC1D;MACA;MACAf,OAAO,CAACC,GAAG,CAAC,cAAc,GAAGS,SAAS,CAAC;IACzC,CAAC,CAAC;IACF;IACA;IACA;IACA;IACA;IAED;EAED;;EACAM,oBAAoB;IAClB;IAEA,MAAMC,KAAK,GAAG;MAAEJ,QAAQ,EAAE,IAAI,CAACA;IAAQ,CAAE;IACzC;IAEA;IACA;IACA;IACA;IACA;IACA;IAEI,IAAI,CAACf,IAAI,CAACS,IAAI,CAAM,2CAA2C,EAAEU,KAAK,CAAC,CAACT,SAAS,CAE/EU,QAAQ,IAAG;MACTlB,OAAO,CAACC,GAAG,CAAC,qBAAqB,GAAGU,IAAI,CAACC,SAAS,CAACM,QAAQ,CAAC,CAAC;MAC7D,MAAMC,CAAC,GAAGR,IAAI,CAACC,SAAS,CAACM,QAAQ,CAAC;MAClC,MAAMhB,WAAW,GAAGS,IAAI,CAACC,SAAS,CAACM,QAAQ,CAAChB,WAAW,CAAC;MACxDF,OAAO,CAACC,GAAG,CAAC,KAAK,GAAGC,WAAW,CAAC;MAChCkB,MAAM,CAACC,IAAI,CAACF,CAAC,CAACL,SAAS,CAAC,EAAE,EAACK,CAAC,CAACJ,MAAM,GAAC,CAAC,CAAC,CAAC;IAEzC,CAAC,CACF;IAGL;EAEF;CAED;;AA5DYnB,aAAa,eALzBD,SAAS,CAAC;EACT2B,QAAQ,EAAE,UAAU;EACpBC,WAAW,EAAE,uBAAuB;EACpCC,SAAS,EAAE,CAAC,sBAAsB;CACnC,CAAC,GACW5B,aAAa,CA4DzB;SA5DYA,aAAa","names":["Component","HomeComponent","constructor","http","shortenUrl","console","log","originalUrl","data","OriginalUrl","urlobject","URL","post","subscribe","result","presponse","JSON","stringify","shortUrl","substring","length","redirectToOrginalUrl","data1","response","r","window","open","selector","templateUrl","styleUrls"],"sourceRoot":"","sources":["C:\\prajwalproject\\URL\\ClientApp\\src\\app\\home\\home.component.ts"],"sourcesContent":["import { Component } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\n\r\n\r\n\r\n@Component({\r\n  selector: 'app-home',\r\n  templateUrl: './home.component.html',\r\n  styleUrls: ['./home.component.css']\r\n})\r\nexport class HomeComponent {\r\n  originalUrl: any;\r\n  shortUrl: any ;\r\n\r\n  constructor(private http: HttpClient) { }\r\n\r\n  shortenUrl()\r\n  {\r\n    debugger\r\n    console.log(\"enter here\" + this.originalUrl);\r\n     let data = { OriginalUrl: this.originalUrl };\r\n\r\n    const urlobject = new URL(this.originalUrl);\r\n\r\n    this.http.post<string>('https://localhost:7180/api/Url/ShortenUrl', data).subscribe(result => {\r\n      const presponse = JSON.stringify(result)\r\n      this.shortUrl = presponse.substring(13,presponse.length-2)\r\n      //const presponse = JSON.parse(result);\r\n      //this.shortUrl = presponse.shortUrl\r\n      console.log(\"hhhhhelppppp\" + presponse);\r\n    });\r\n    //this.http.post<string>('https://localhost:7180/api/Url/ShortenUrl', data).subscribe\r\n    //  (result => {\r\n    //    console.log(\"hhhhhelppppp\" + JSON.parse(result));\r\n    //    this.shortUrl = result;\r\n    //  });\r\n\r\n   // console.log(\"Output\" + this.shortUrl[\"shortUrl\"]);\r\n\r\n  }\r\n  redirectToOrginalUrl() {\r\n    debugger\r\n\r\n    const data1 = { shortUrl: this.shortUrl };\r\n    //this.http.post('https://localhost:7180/api/Url/GetLongUrl', data1, { responseType: 'text', observe: 'response' }).subscribe(\r\n\r\n    //  response => {\r\n    //    const r = \"output here\" + JSON.stringify(response);\r\n    //    const redirectUrl = response.headers.get('Location');\r\n    //    if (redirectUrl) {\r\n    //      window.location.href = redirectUrl;\r\n    //    }\r\n\r\n        this.http.post<any>('https://localhost:7180/api/Url/GetLongUrl', data1).subscribe(\r\n\r\n          response => {\r\n            console.log(\"hhhhhhhhhhhhhhhhhhh\" + JSON.stringify(response))\r\n            const r = JSON.stringify(response)\r\n            const originalUrl = JSON.stringify(response.originalUrl);\r\n            console.log(\"new\" + originalUrl)\r\n            window.open(r.substring(12,r.length-2));\r\n\r\n          }\r\n        );\r\n\r\n\r\n    /*  });*/\r\n\r\n  }\r\n  \r\n}\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}